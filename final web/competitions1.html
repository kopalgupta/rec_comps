<!-- Run AJAX script using server
run 'python -m SimpleHTTPServer' in terminal -->

<!DOCTYPE HTML>
<html>
<head>
<title>LinkedIn extension</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="keywords" content="LinkedIn extension" />
<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
<link href="css/bootstrap-3.1.1.min.css" rel='stylesheet' type='text/css' />
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="js/jquery.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<!-- Custom Theme files -->
<link href="css/style.css" rel='stylesheet' type='text/css' />
<link href='//fonts.googleapis.com/css?family=Roboto:100,200,300,400,500,600,700,800,900' rel='stylesheet' type='text/css'>

<link href="css/font-awesome.css" rel="stylesheet"> 
</head>
<body>
<nav class="navbar navbar-inverse" role="navigation">
     <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button> 
            <a class="navbar-brand" href="https://www.linkedin.com"><img src="images/logo.png" height=28 width=111></a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
        <ul class="nav navbar-nav">
            <li class="dropdown"><a href="index1.html"><span class="glyphicon glyphicon-home" aria-hidden="true"></span> Home</a></li>
            <li class="dropdown"> <a href="competitions1.html"><span class="glyphicon glyphicon-filter" aria-hidden="true"></span> Competitions</a></li>
            <li class="dropdown"> <a href="scholarships1.html"><span class="glyphicon glyphicon-user" aria-hidden="true"></span> Scholarships</a></li>
            <li class="dropdown"> <a href="research1.html"><span class="glyphicon glyphicon-paperclip" aria-hidden="true"></span> Research Opportunities</a></li>
		</ul>
		<!-- form class="navbar-form navbar-right">
                <div class="form-group">
                    <label class="sr-only" for="email">Email Address</label>
                    <input type="email" class="form-control" id="email" placeholder="Email">
                </div>
                <div class="form-group">
                    <label class="sr-only" for="password">Password</label>
                    <input type="email" class="form-control" id="password" placeholder="Password">
                </div>
                <button type="submit" class="btn btn-info">Sign in</button>
                <a href="#"><span aria-hidden="true"></span>Forgot Password?</a>
            </form> -->

            
        </ul>



     </div>
     </div>
     <div id="page_title">Find Competitions</h3>
	</nav>
	

<div class="banner">
    <div class="container">

        <button id="btn">Recommend competitions</button>
        <div id="info"></div>
        <script type="text/javascript">
            var request1 = new XMLHttpRequest();
            // var request2 = new XMLHttpRequest();
    var btn = document.getElementById("btn");
    var info = document.getElementById("info");
    // var page = 1;
    btn.addEventListener('click', function() {
        request1.open('GET', 'resultjson.json');
        // request2.open('GET', 'comp1json.json');

        request1.onload = function() {
            var jsonData = JSON.parse(request1.responseText);
            render1(jsonData);
        }
        request1.send();

        // request2.onload = function() {
        //     var jsonData = JSON.parse(request2.responseText);
        //     render2(jsonData);
        // }
        // request2.send();

        // page++;
        // if (page>10) {
        //     btn.style.display = "none";
        // }
    });

    function render1(data) {

        var str = "";

        // var request2 = new XMLHttpRequest();
        //         request2.open('GET', 'comp1json.json');
        //         request2.onload = function() {
        //             var jsonData = JSON.parse(request2.responseText);
        //             render2(jsonData);
        //         }
        // request2.send();

        // var request2 = new XMLHttpRequest();
        // btn.addEventListener('click', function() {
        // request2.open('GET', 'comp1json.json');
        // // request2.open('GET', 'comp1json.json');

        // request2.onload = function() {
        //     var jsonData = JSON.parse(request2.responseText);
        //     render2(jsonData);
        // }
        // request2.send();
        // });

        // request2.onload = function() {
        //     var jsonData = JSON.parse(request2.responseText);
        //     render2(jsonData);
        // }
        // request2.send();

        // page++;
        // if (page>10) {
        //     btn.style.display = "none";
        // }

        // var btn2 = document.getElementById("btn");

        //     var request2 = new XMLHttpRequest();
        // btn2.addEventListener('click', function() {
        // request2.open('GET', 'comp1json.json');
        // // request2.open('GET', 'comp1json.json');

        // request2.onload = function() {
        //     var jsonData = JSON.parse(request2.responseText);
        //     render2(jsonData);
        // }
        // request2.send();

        // });

        
    


        for (i = 0; i < data.length; i++) {

            

        //     var btn2 = document.getElementById("btn");

        //     var request2 = new XMLHttpRequest();
        // btn2.addEventListener('click', function() {
        // request2.open('GET', 'comp1json.json');
        // // request2.open('GET', 'comp1json.json');

        // request2.onload = function() {
        //     var jsonData = JSON.parse(request2.responseText);
        //     render2(jsonData);
        // }
        // request2.send();

        // request2.onload = function() {
        //     var jsonData = JSON.parse(request2.responseText);
        //     render2(jsonData);
        // }
        // request2.send();

        // page++;
        // if (page>10) {
        //     btn.style.display = "none";
        // }
    

            if(data[i].Name_of_user == "1192" && data[i].Label == "1" ) {

            //     var compname = data[i].Competition_Name;


            // request2.onload = function(compname, str) {
            //     var jsonData = JSON.parse(request2.responseText);
            //     render2(jsonData);
            // }
            // request2.send();

                str += "<p>" + data[i].Competition_Name + "<br>" + "<br>";



                // function render2(data2) {
                //     for(j = 0; j < data2.length; j++) {
                //         if (data2[j].Name == data[i].Competition_Name) {
                //             str += "<p>" + data2[j].URL + "<br>" + "<br>";
                //         }
                //     }
                // }
            }

            // str += "<p>" + data[i].name + " is a student of " +
            //     data[i].college + " who likes ";
            // for (j = 0; j < data[i].foods.likes.length; j++) {
            //     if (j == 0) {
            //         str += data[i].foods.likes[j];
            //     } else {
            //         str += " and " + data[i].foods.likes[j];
            //     }
            // }
            // str += " and doesn't like ";
            // for (j = 0; j < data[i].foods.dislikes.length; j++) {
            //     if (j == 0) {
            //         str += data[i].foods.dislikes[j];
            //     } else {
            //         str += " and " + data[i].foods.dislikes[j];
            //     }
            // }
            str += "</p>";
        }
        info.innerHTML += str;
    }




        </script>
    </div>

</div>
</div>
</nav>
    

</body>
</html>
		